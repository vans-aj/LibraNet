{% extends "base.html" %}

{% block content %}
<div class="auth-wrapper">
    <!-- LEFT SIDE - BRANDING -->
    <div class="auth-left">
        <div class="auth-card left">
            <div class="auth-header left">
                <div class="auth-logo">üîê Verify Email</div>
                <h1 class="auth-title">Almost There!</h1>
                <p class="auth-subtitle">We've sent a verification code to your email. Enter the 6-digit OTP to complete your registration.</p>
            </div>

            <div class="auth-features">
                <div class="feature-item">
                    <div class="feature-icon">üìß</div>
                    <div class="feature-text">
                        <h4>Check Email</h4>
                        <p>Look for our email</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">‚è±Ô∏è</div>
                    <div class="feature-text">
                        <h4>Valid for 10 min</h4>
                        <p>OTP expires soon</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">üî¢</div>
                    <div class="feature-text">
                        <h4>6-Digit Code</h4>
                        <p>Enter all digits</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">‚úÖ</div>
                    <div class="feature-text">
                        <h4>Verify Once</h4>
                        <p>One-time process</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- RIGHT SIDE - OTP FORM -->
    <div class="auth-right">
        <div class="auth-card">
            <div class="auth-header">
                <h1 class="auth-title">Enter OTP</h1>
                <p class="auth-subtitle">Code sent to <strong>{{ email }}</strong></p>
            </div>

            <form action="" method="post" novalidate>
                {{ form.hidden_tag() }}

                <div class="form-group">
                    {{ form.otp.label }}
                    {{ form.otp(size=32, placeholder="000000", class="form-control", style="text-align: center; font-size: 1.5rem; letter-spacing: 0.5rem; font-weight: bold;") }}
                    {% for error in form.otp.errors %}
                    <div class="form-error">{{ error }}</div>
                    {% endfor %}
                </div>

                <button type="submit" class="submit-btn">
                    <i class="fas fa-check-circle"></i>
                    Verify OTP
                </button>
            </form>

            <div class="auth-divider">
                <span>Didn't receive code?</span>
            </div>

            <form action="{{ url_for('main.resend_otp') }}" method="post" style="margin-bottom: 1rem;">
                <button type="submit" class="submit-btn" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); box-shadow: 0 8px 24px rgba(245, 158, 11, 0.3);">
                    <i class="fas fa-redo"></i>
                    Resend OTP
                </button>
            </form>

            <p class="auth-footer">
                Want to use different email? <a href="{{ url_for('main.register') }}">Register again</a>
            </p>

            <!-- Timer Display -->
            <div style="margin-top: 1.5rem; padding: 1rem; background: rgba(99, 102, 241, 0.1); border-radius: 8px; text-align: center;">
                <p style="margin: 0; color: #6366f1; font-weight: 600; font-size: 0.9rem;">
                    <i class="fas fa-clock"></i> OTP valid for 10 minutes
                </p>
            </div>
        </div>
    </div>
</div>

{% include "footer.html" %}
{% endblock %}